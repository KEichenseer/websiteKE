"0",""
"0",""
"0","model_CPR <- function(){"
"0","  "
"0","  ### Likelihood or data model part"
"0","  for(i in 1:n){"
"0","    "
"0","  y[i] ~ dnorm(mu[i], tau[i]) "
"0",""
"0","    "
"0","    "
"0","  mu[i] <- alpha_1 + "
"0","  alpha_2 * step(i - n_change) +"
"0","  (beta_1 + beta_2 * step(i - n_change))*x[i]"
"0","  "
"0","  "
"0","  "
"0","  tau[i] <- exp(log_tau[i])"
"0","  "
"0","  log_tau[i] <- log_tau_1 + log_tau_2 * "
"0","  step(i - n_change)"
"0","  "
"0","  } "
"0","  "
"0","  ### Priors"
"0","  "
"0","  "
"0","  alpha_1 ~ dnorm(0, 1.0E-4)"
"0","  "
"0","  "
"0","  alpha_2 ~ dnorm(0, 1.0E-4)"
"0","  "
"0","  beta_1 ~ dnorm(0, 1.0E-4)"
"0","  beta_2 ~ dnorm(0, 1.0E-4)"
"0","  "
"0","  log_tau_1 ~ dnorm(0, 1.0E-4)"
"0","  log_tau_2 ~ dnorm(0, 1.0E-4)"
"0","  "
"0","  K ~ dcat(p)"
"0","  n_change <- possible_change_points[K]"
"0",""
"0","}"
"0",""
"0",""
"0",""
